<% layout('/layout/boilerplate') %>
    <form method="POST" action="/addons" class="d-flex flex-column">

        <h1>Pick add-ons</h1>
        <p class="text-muted pb-4">Add-ons help enhance your gaming experience.</p>

        <div class="row addons rounded-2 mb-3 mx-0 px-0">
            <div class="col d-flex align-items-center justify-content-center">
                <input class="total" type="checkbox" value="1" id="online" name="check">
            </div>
            <div class="col-10 col-md-11">

                <div class="row"> <label class="form-check-label d-flex flex-row py-2 m-0" for="online">
                        <div class="col-10 py-0 my-0">
                            <p class="py-0 my-0 fw-bold">
                                <%= selectAddon[0]%>
                            </p>
                            <p class="py-0 my-0 text-muted">Access to multiplayer games</p>
                        </div>

                        <div class="col-2 d-flex align-items-center justify-content-center">
                            <p class="mt-auto">
                                <%= total.checkbox? "+$10/yr" : " +$1/mo" %>
                            </p>
                        </div>
                    </label>
                </div>

            </div>
        </div>


        <div class="row addons rounded-2 mb-3 mx-0 px-0">
            <div class=" col d-flex align-items-center justify-content-center">
                <input class="total" type="checkbox" value="2" id="storage" name="check">
            </div>
            <div class="col-10 col-md-11">

                <div class="row"> <label class="form-check-label d-flex flex-row py-2 m-0" for="storage">
                        <div class="col-10 py-0 my-0">
                            <p class="py-0 my-0 fw-bold">
                                <%= selectAddon[1]%>
                            </p>
                            <p class="py-0 my-0 text-muted">Extra 1TB of cloud save</p>
                        </div>

                        <div class="col-2 d-flex align-items-center justify-content-center">
                            <p class="mt-auto">
                                <%= total.checkbox? "+$20/yr" : " +$2/mo" %>
                            </p>
                        </div>
                    </label>
                </div>

            </div>
        </div>


        <div class="row addons rounded-2 mb-3 mx-0 px-0">
            <div class="col d-flex align-items-center justify-content-center">
                <input class="total" type="checkbox" value="3" id="profile" name="check">
            </div>
            <div class="col-10 col-md-11">

                <div class="row"> <label class="form-check-label d-flex flex-row py-2 m-0" for="profile">
                        <div class="col-10 py-0 my-0">
                            <p class="py-0 my-0 fw-bold">
                                <%= selectAddon[2]%>
                            </p>
                            <p class="py-0 my-0 text-muted">Custom theme on your profile</p>
                        </div>

                        <div class="col-2 d-flex align-items-center justify-content-center">
                            <p class="mt-auto">
                                <%= total.checkbox? "+$20/yr" : " +$2/mo" %>
                            </p>
                        </div>
                    </label>
                </div>

            </div>
        </div>

        <div class="row mt-auto mx-0 px-0">
            <div class="col d-flex justify-content-start px-0">
                <a href="/selectPlan" class="btn btn-light border-0">Go back</a>
            </div>
            <div class="col d-flex justify-content-end px-0">
                <button class="btn btn-primary px-4 py-2" type="submit">Next Step</button>
            </div>
        </div>


    </form>

    <script>
        (() => {
            const div = document.querySelector('#third')
            div.classList.add("circleFirst")
            div.classList.remove('circleDiv')
            const addon = document.querySelectorAll('.total');
            const divTotal = document.querySelectorAll('.addons')
            for (let i = 0; i < addon.length; i++) {
                addon[i].addEventListener('change', () => {
                    if (addon[i].checked) {
                        divTotal[i].classList.add('addons-clicked')
                    } else {
                        divTotal[i].classList.remove('addons-clicked')
                    }
                })
            }
        })()
    </script>